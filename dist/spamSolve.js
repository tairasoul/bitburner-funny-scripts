import Lockfile from "./general/locks";
export async function main(ns) {
    const lock = new Lockfile(ns);
    const files = ns.ls("home", ".js");
    ns.scp(files, "CCT-Crack", "home");
    const pids = [ns.pid];
    for (let i = 0; i < 50; i++) {
        await ns.sleep(50);
        const pid = ns.exec("solve.js", "CCT-Crack");
        pids.push(pid);
    }
    await lock.lock("solvers", JSON.stringify(pids));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3BhbVNvbHZlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3NwYW1Tb2x2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLFFBQVEsTUFBTSxpQkFBaUIsQ0FBQztBQUV2QyxNQUFNLENBQUMsS0FBSyxVQUFVLElBQUksQ0FBQyxFQUFNO0lBQzdCLE1BQU0sSUFBSSxHQUFHLElBQUksUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzlCLE1BQU0sS0FBSyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ25DLEVBQUUsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLFdBQVcsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNuQyxNQUFNLElBQUksR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN0QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ3pCLE1BQU0sRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQTtRQUNsQixNQUFNLEdBQUcsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUM3QyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ2xCO0lBQ0QsTUFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDckQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5TIH0gZnJvbSBcIkBuc1wiO1xuaW1wb3J0IExvY2tmaWxlIGZyb20gXCIuL2dlbmVyYWwvbG9ja3NcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1haW4obnM6IE5TKSB7XG4gICAgY29uc3QgbG9jayA9IG5ldyBMb2NrZmlsZShucyk7XG4gICAgY29uc3QgZmlsZXMgPSBucy5scyhcImhvbWVcIiwgXCIuanNcIik7XG4gICAgbnMuc2NwKGZpbGVzLCBcIkNDVC1DcmFja1wiLCBcImhvbWVcIik7XG4gICAgY29uc3QgcGlkcyA9IFtucy5waWRdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTA7IGkrKykge1xuICAgICAgICBhd2FpdCBucy5zbGVlcCg1MClcbiAgICAgICAgY29uc3QgcGlkID0gbnMuZXhlYyhcInNvbHZlLmpzXCIsIFwiQ0NULUNyYWNrXCIpO1xuICAgICAgICBwaWRzLnB1c2gocGlkKTtcbiAgICB9XG4gICAgYXdhaXQgbG9jay5sb2NrKFwic29sdmVyc1wiLCBKU09OLnN0cmluZ2lmeShwaWRzKSk7XG59Il19