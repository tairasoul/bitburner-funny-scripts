import Multiport from "/general/multiport";
export async function main(ns) {
    const returnComms = new Multiport(ns, { ports: JSON.parse(ns.args[0]) });
    const data = JSON.parse(ns.args[1]);
    const port = ns.getPortHandle(data.startPort);
    await port.nextWrite();
    await ns.hack(data.server);
    returnComms.write(JSON.stringify(data));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFjay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9pbmZlY3Qvd29ybXMvaGFjay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLFNBQVMsTUFBTSxvQkFBb0IsQ0FBQztBQUUzQyxNQUFNLENBQUMsS0FBSyxVQUFVLElBQUksQ0FBQyxFQUFTO0lBQ2hDLE1BQU0sV0FBVyxHQUFHLElBQUksU0FBUyxDQUFDLEVBQUUsRUFBRSxFQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFXLENBQUMsRUFBQyxDQUFDLENBQUE7SUFDaEYsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBVyxDQUFhLENBQUM7SUFDMUQsTUFBTSxJQUFJLEdBQUcsRUFBRSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDOUMsTUFBTSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDdkIsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMzQixXQUFXLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUM1QyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG5zIGZyb20gXCJAbnNcIjtcbmltcG9ydCB7IFdvcm1EYXRhIH0gZnJvbSBcIi9pbmZlY3Qvd29ybXMvdHlwZXNcIjtcbmltcG9ydCBNdWx0aXBvcnQgZnJvbSBcIi9nZW5lcmFsL211bHRpcG9ydFwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFpbihuczogbnMuTlMpIHtcbiAgICBjb25zdCByZXR1cm5Db21tcyA9IG5ldyBNdWx0aXBvcnQobnMsIHtwb3J0czogSlNPTi5wYXJzZShucy5hcmdzWzBdIGFzIHN0cmluZyl9KVxuICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKG5zLmFyZ3NbMV0gYXMgc3RyaW5nKSBhcyBXb3JtRGF0YTtcbiAgICBjb25zdCBwb3J0ID0gbnMuZ2V0UG9ydEhhbmRsZShkYXRhLnN0YXJ0UG9ydCk7XG4gICAgYXdhaXQgcG9ydC5uZXh0V3JpdGUoKTtcbiAgICBhd2FpdCBucy5oYWNrKGRhdGEuc2VydmVyKTtcbiAgICByZXR1cm5Db21tcy53cml0ZShKU09OLnN0cmluZ2lmeShkYXRhKSk7XG59Il19