export async function main(ns) {
    const name = ns.args[0];
    const money = ns.getServerMoneyAvailable("home");
    let size = 2;
    let guh = 2;
    while (ns.getPurchasedServerCost(size) < money) {
        guh++;
        if (ns.getPurchasedServerCost(2 ** (guh + 1)) > money)
            break;
        size = 2 ** guh;
    }
    ns.tprint(`bought server ${name} with size ${ns.formatRam(size)}`);
    ns.purchaseServer(name, size);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnV5LW1heGVkLXNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9idXktbWF4ZWQtc2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sQ0FBQyxLQUFLLFVBQVUsSUFBSSxDQUFDLEVBQVM7SUFDaEMsTUFBTSxJQUFJLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQVcsQ0FBQztJQUNsQyxNQUFNLEtBQUssR0FBRyxFQUFFLENBQUMsdUJBQXVCLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDakQsSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDO0lBQ2IsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO0lBQ1osT0FBTyxFQUFFLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLEdBQUcsS0FBSyxFQUFFO1FBQzVDLEdBQUcsRUFBRSxDQUFDO1FBQ04sSUFBSSxFQUFFLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxJQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSztZQUMvQyxNQUFNO1FBQ1YsSUFBSSxHQUFHLENBQUMsSUFBRSxHQUFHLENBQUM7S0FDakI7SUFDRCxFQUFFLENBQUMsTUFBTSxDQUFDLGlCQUFpQixJQUFJLGNBQWMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDbkUsRUFBRSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUE7QUFDakMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBucyBmcm9tIFwiQG5zXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYWluKG5zOiBucy5OUykge1xuICAgIGNvbnN0IG5hbWUgPSBucy5hcmdzWzBdIGFzIHN0cmluZztcbiAgICBjb25zdCBtb25leSA9IG5zLmdldFNlcnZlck1vbmV5QXZhaWxhYmxlKFwiaG9tZVwiKTtcbiAgICBsZXQgc2l6ZSA9IDI7XG4gICAgbGV0IGd1aCA9IDI7XG4gICAgd2hpbGUgKG5zLmdldFB1cmNoYXNlZFNlcnZlckNvc3Qoc2l6ZSkgPCBtb25leSkge1xuICAgICAgICBndWgrKztcbiAgICAgICAgaWYgKG5zLmdldFB1cmNoYXNlZFNlcnZlckNvc3QoMioqKGd1aCArIDEpKSA+IG1vbmV5KVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIHNpemUgPSAyKipndWg7XG4gICAgfVxuICAgIG5zLnRwcmludChgYm91Z2h0IHNlcnZlciAke25hbWV9IHdpdGggc2l6ZSAke25zLmZvcm1hdFJhbShzaXplKX1gKTtcbiAgICBucy5wdXJjaGFzZVNlcnZlcihuYW1lLCBzaXplKVxufSJdfQ==